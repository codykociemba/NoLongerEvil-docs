---
title: Installation Guide
description: 'Step-by-step instructions to flash firmware and set up your Nest thermostat'
---

<Warning>
  **Before you begin:**

  - Ensure you have a **Nest Generation 1 or Generation 2** thermostat ([check compatibility](/compatibility))
  - Do NOT use this on a thermostat critical for heating/cooling (experimental software)
  - **Gen 1 requires device teardown** - only proceed if comfortable with electronics disassembly
</Warning>

## What You'll Need

<CardGroup cols={2}>
  <Card title="Compatible Device" icon="temperature-half">
    Nest Generation 1 or 2 thermostat

    [Check compatibility ‚Üí](/compatibility)
  </Card>
  <Card title="Computer" icon="laptop">
    Linux or macOS

    ‚ö†Ô∏è Windows NOT supported (including WSL)
  </Card>
  <Card title="USB Cable" icon="usb">
    Mini USB (Gen 1) or Micro USB (Gen 2)

    Must be data-capable, not charge-only
  </Card>
  <Card title="For Gen 1 Only" icon="screwdriver-wrench">
    Phillips screwdriver

    Metal tweezers/conductive tool
  </Card>
</CardGroup>

---

## Step 1: Download Firmware Installer

Download the firmware installer for your operating system:

<CardGroup cols={2}>
  <Card title="Download for macOS" icon="apple" href="https://github.com/codykociemba/NoLongerEvil-Thermostat/releases/download/v1.0.0/nolongerevil-macos-x64.zip">
    **macOS (Universal)**

    Intel & Apple Silicon (M1/M2/M3/M4)

    Click to download
  </Card>
  <Card title="Download for Linux" icon="linux" href="https://github.com/codykociemba/NoLongerEvil-Thermostat/releases/download/v1.0.0/nolongerevil-linux-appimage.zip">
    **Linux (x64)**

    Ubuntu, Debian, Fedora, etc.

    Click to download
  </Card>
</CardGroup>

---

## Step 2: Prepare the Installer

<Tabs>
  <Tab title="Linux (AppImage)">
    1. **Make the AppImage executable**:
       ```bash
       chmod +x NoLongerEvil-*.AppImage
       ```

    2. **Install dependencies**:
       ```bash
       sudo npm install ts-node typescript --save
       ```

    3. **Run the AppImage**:
       ```bash
       ./NoLongerEvil-*.AppImage
       ```

    <Note>
      AppImage files are self-contained and don't need extraction. You can also double-click the file in your file manager after making it executable.
    </Note>
  </Tab>

  <Tab title="macOS">
    1. **Extract the downloaded .zip file**:
       - Double-click the .zip file in Finder

    2. **Move the app to Applications** (optional but recommended):
       - Drag NoLongerEvil.app to your Applications folder

    3. **Open the app**:
       - Double-click NoLongerEvil.app
       - If macOS blocks it, right-click ‚Üí Open, then click Open again

    <Note>
      **First time opening**: macOS may show a security warning. Go to System Preferences ‚Üí Security & Privacy and click "Open Anyway" if needed.
    </Note>
  </Tab>
</Tabs>

<Accordion title="Installer not working? Try manual installation" icon="code">
  If the pre-built installer doesn't work for you, you can run it manually from source:

  <Tabs>
    <Tab title="Linux">
      ```bash
      # Install dependencies
      sudo apt-get update
      sudo apt-get install -y curl build-essential libusb-1.0-0-dev libudev-dev gcc pkg-config

      # Install Node.js 20 (required)
      curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
      sudo apt-get install -y nodejs

      # Clone the repository
      git clone -b open-source-prototype https://github.com/codykociemba/NoLongerEvil-Thermostat.git
      cd NoLongerEvil-Thermostat

      # Run the installer
      cd firmware/installer
      npm install
      export ELECTRON_DISABLE_SANDBOX=1
      npm run electron:dev
      ```
    </Tab>

    <Tab title="macOS">
      ```bash
      # Install Homebrew if not already installed
      /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

      # Install Node.js 20 (required)
      brew install node@20
      brew link --overwrite node@20

      # Clone the repository
      git clone -b open-source-prototype https://github.com/codykociemba/NoLongerEvil-Thermostat.git
      cd NoLongerEvil-Thermostat

      # Install dependencies
      brew install libusb

      # Run the installer
      cd firmware/installer
      npm install
      npm run electron:dev
      ```
    </Tab>
  </Tabs>

  <Note>
    This will run the installer directly from source using Electron. The installer GUI will open just like the pre-built version.
  </Note>
</Accordion>

---

## Step 3: Launch the Installer

1. **Open the NoLongerEvil installer app**
   - Linux: Run `./NoLongerEvil-*.AppImage` or double-click the AppImage file
   - macOS: Double-click NoLongerEvil.app

2. **The installer GUI will open** - Follow the on-screen instructions in the installer

3. **The installer will guide you through the process**, including:
   - Selecting your device generation (Gen 1 or Gen 2)
   - Entering DFU mode
   - Flashing the firmware
   - Setting up your device

<Note>
  **USB Permissions**: You may be prompted to grant USB permissions:
  - **macOS**: System Preferences ‚Üí Security & Privacy ‚Üí Allow USB access
  - **Linux**: May need to run with `sudo` or add udev rules if you get permission errors
</Note>

<Info>
  The rest of this guide provides detailed manual instructions for each step. However, **the installer app will walk you through everything** - you can simply follow the GUI prompts instead of reading the steps below.
</Info>

---

## Step 4: Enter DFU Mode

The process differs between Generation 1 and Generation 2 devices. **Choose the instructions for your device:**

<Tabs>
  <Tab title="Generation 2 (Easy)">
    ### Gen 2: Simple Reboot Method

    Follow these steps carefully:

    1. **Boot device on backplate** - IMPORTANT: Connect your Nest to the wall backplate and let it fully boot to the home screen. This ensures the battery is charged and the device is ready.
    2. **Remove from wall** - Once fully booted, remove the Nest from its back plate/wall mount
    3. **Start the installer** - Make sure the `install.sh` script is running and waiting for the device
    4. **Connect via USB** - Plug the Nest into your computer using a micro USB cable
    5. **Reboot the device** - Press and hold down on the display for 10-15 seconds until the device reboots
    6. **DFU mode active** - Once it reboots, the device will enter DFU mode and the installer script will recognize it and begin flashing

    The firmware installer will automatically detect the device and flash the custom bootloader (x-load, u-boot) and kernel (uImage).
  </Tab>

  <Tab title="Generation 1 (Advanced)">
    ### Gen 1: Teardown & Contact Bridge Method

    <Warning>
      **Gen 1 requires physical disassembly.** This process involves opening the device and manually bridging internal contacts. Only proceed if you're comfortable with electronics teardown.

      **Credit:** Gen 1 DFU mode instructions adapted from [guyman70718's cuckoo_loader_gen1 guide](https://github.com/guyman70718/cuckoo_loader_gen1).
    </Warning>

    #### Tools Needed:
    - Phillips screwdriver or prying tool
    - Metal tweezers or similar conductive object
    - Mini USB cable
    - Non-conductive object for battery removal

    #### Teardown Steps:

    <Steps>
      <Step title="Begin Disassembly">
        Follow the [SparkFun Nest Thermostat Teardown Guide](https://learn.sparkfun.com/tutorials/nest-thermostat-teardown-/all) to open your Gen 1 thermostat.

        You need to access the internal circuit board.

        <Frame>
          <img src="/public/nest-gen1-teardown-step1.jpg" alt="Gen 1 Nest internal components exposed" />
        </Frame>
      </Step>

      <Step title="Disconnect Battery">
        Unplug the battery by inserting your finger or a **NON-CONDUCTIVE object** underneath the battery wires. It lifts directly up.

        **Important:** Do not use metal tools for this step.
      </Step>

      <Step title="Remove Metal Shield">
        Detach the metal shield from the corner to expose the circuit board components and contact points.

        <Frame>
          <img src="/public/nest-gen1-teardown-step2.png" alt="Metal shield removal" />
        </Frame>
      </Step>

      <Step title="Reconnect Battery">
        Reconnect the battery while keeping the shield removed.

        **Note:** The device will not boot without a battery connected.
      </Step>

      <Step title="Prepare for DFU Mode">
        Ensure:
        - Battery is reconnected
        - Screen is off
        - The `./install.sh` script is running and waiting on your computer
        - Mini USB cable is ready but not yet connected
      </Step>

      <Step title="Bridge Contacts & Connect USB">
        Using metal tweezers or a conductive tool, **bridge the black and yellow resistor contacts** shown in the image below:

        <Frame>
          <img src="/public/nest-gen1-teardown-step3.png" alt="Contact bridging points for DFU mode" />
        </Frame>

        While holding the contacts bridged, connect the mini USB cable to the device.

        The thermostat should boot into DFU mode and the installer will detect it.
      </Step>

      <Step title="Wait for Flash">
        Once detected, the firmware installer will automatically flash the custom bootloader and kernel.

        Keep the device connected and don't disconnect until flashing completes.
      </Step>
    </Steps>

    <Info>
      **After successful flashing**, you can reassemble your Gen 1 thermostat by reversing the teardown steps. The device should boot normally with the new firmware.
    </Info>
  </Tab>
</Tabs>

---

## Step 5: Wait for Boot

After the firmware is flashed successfully, you should see the No Longer Evil logo on the device screen.

**Important:**
- Keep the device plugged in via USB
- Wait for the device to complete its boot sequence (this may take 3-4 minutes)
- Do not disconnect or power off the device during this time

---

## Step 6: Register Account

Once the device has fully rebooted:

1. Visit **[https://nolongerevil.com](https://nolongerevil.com)** in your web browser
2. **Register an account** (or sign in if you already have one)
3. Navigate to your **Dashboard**

You will see a "No devices" screen that prompts you for an entry code.

---

## Step 7: Link Your Device

To link your Nest device to your No Longer Evil account:

1. On your Nest device, navigate to: **Settings ‚Üí Nest App ‚Üí Get Entry Code**
2. The device will display a unique entry code
3. Enter this code on the No Longer Evil dashboard
4. Your device is now linked and ready to use!

---

## Step 8: Reinstall on Wall

Once everything is working:

1. Align the Nest with the backplate on the wall
2. Push gently until it clicks into place
3. The device will reconnect to HVAC power and charge

---

## üéâ Success!

Your Nest Thermostat is now running No Longer Evil and connected to your account!

---

## What Gets Flashed

The firmware installation process installs three components:

1. **x-load.bin** - First-stage bootloader (X-Loader for OMAP)
2. **u-boot.bin** - Second-stage bootloader (Das U-Boot) loaded at address 0x80100000
3. **uImage** - Linux kernel image loaded at address 0x80A00000

After flashing, the device jumps to execution at 0x80100000 (u-boot).

---

## Something Went Wrong?

<AccordionGroup>
  <Accordion title="Device won't enter DFU mode" icon="usb">
    See [DFU Mode Troubleshooting](/hosted/troubleshooting#dfu-mode-issues)
  </Accordion>

  <Accordion title="Firmware installer doesn't detect device" icon="computer">
    See [Device Detection Issues](/hosted/troubleshooting#device-detection)
  </Accordion>

  <Accordion title="Thermostat won't boot after flashing" icon="power-off">
    See [Boot Issues](/hosted/troubleshooting#boot-issues)
  </Accordion>

  <Accordion title="Entry code doesn't work" icon="key">
    See [Entry Code Issues](/hosted/troubleshooting#entry-code-issues)
  </Accordion>

  <Accordion title="Device won't connect to WiFi" icon="wifi">
    See [Network Issues](/hosted/troubleshooting#network-issues)
  </Accordion>
</AccordionGroup>

---

## Credits & Acknowledgments

This project builds upon the excellent work of several security researchers and developers:

- **[grant-h](https://github.com/grant-h) / [ajb142](https://github.com/ajb142)** - [omap_loader](https://github.com/ajb142/omap_loader), the USB bootloader tool used to flash OMAP devices
- **[exploiteers (GTVHacker)](https://github.com/exploiteers)** - Original research and development of the [Nest DFU attack](https://github.com/exploiteers/NestDFUAttack), which demonstrated the ability to flash custom firmware to Nest devices gen 1 & gen 2
- **[guyman70718](https://github.com/guyman70718)** - [cuckoo_loader_gen1](https://github.com/guyman70718/cuckoo_loader_gen1) guide and teardown documentation for Gen 1 DFU mode access
- **[FULU](https://bounties.fulu.org/)** and all bounty backers - For funding the [Nest Learning Thermostat Gen 1/2 bounty](https://bounties.fulu.org/bounties/nest-learning-thermostat-gen-1-2) and supporting the right-to-repair movement

Without their groundbreaking research, open-source contributions, and advocacy for device ownership rights, this work would not be possible. Thank you!

---

<Card title="Get Help" icon="life-ring" href="https://discord.gg/AffeGaJ5XS">
  Join our Discord community or open a GitHub issue for assistance
</Card>
