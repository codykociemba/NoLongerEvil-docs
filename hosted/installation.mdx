---
title: Installation Guide
description: 'Step-by-step instructions to flash firmware and set up your Nest thermostat'
---

<Warning>
  **Before you begin:**

  - Ensure you have a **Nest Generation 2** thermostat ([check compatibility](/compatibility))
  - Do NOT use this on a thermostat critical for heating/cooling (experimental software)
  - This will brick your device if done incorrectly - proceed at your own risk
</Warning>

## Prerequisites

You'll need:
- **Linux computer** or **macOS**
  - ‚ö†Ô∏è **Windows is NOT supported** (including WSL)
- **Nest Generation 2 thermostat**
  - Check for green bubble level on back plate (not blue)
- **Micro USB cable** (data-capable, not charging-only)
- **Build tools and dependencies** installed

---

## Step 1: Clone Repository

Clone the repository:

```bash
git clone https://github.com/codykociemba/NoLongerEvil-Thermostat.git
cd NoLongerEvil-Thermostat
```

---

## Step 2: Install Dependencies

<Tabs>
  <Tab title="Ubuntu/Debian">
    ```bash
    sudo apt-get update
    sudo apt-get install build-essential libusb-1.0-0-dev gcc pkg-config
    ```
  </Tab>
  <Tab title="macOS">
    First, install Xcode Command Line Tools:

    ```bash
    xcode-select --install
    ```

    Then install libusb using Homebrew:

    ```bash
    # Install Homebrew if you don't have it
    /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

    # Install libusb
    brew install libusb
    ```
  </Tab>
</Tabs>

---

## Step 3: Build omap_loader

Build the USB flashing tool:

```bash
chmod +x build.sh
./build.sh
```

The build script will automatically detect your operating system (Linux, macOS, or Windows) and build the appropriate binary.

---

## Step 4: Start the Installer

**IMPORTANT**: Start the installer **BEFORE** rebooting your thermostat into DFU mode.

```bash
chmod +x install.sh
./install.sh
```

<Note>
  **For macOS users:** You may need to grant USB permissions. If you encounter permission issues, check System Preferences ‚Üí Security & Privacy.
</Note>

The script will wait for the device to enter DFU mode.

---

## Step 5: Enter DFU Mode

Follow these steps carefully:

1. **Charge the device** - Ensure your Nest Thermostat is properly charged (at least 50% battery recommended)
2. **Remove from wall** - Remove the Nest from its back plate/wall mount
3. **Connect via USB** - Plug the Nest into your computer using a micro USB cable
4. **Wait for the installer** - Make sure the `install.sh` script is running and waiting
5. **Reboot the device** - Press and hold down on the display for 10-15 seconds until the device reboots
6. **DFU mode active** - Once it reboots, the device will enter DFU mode and the installer script will recognize it and begin flashing

The firmware installer will automatically detect the device and flash the custom bootloader (x-load, u-boot) and kernel (uImage).

---

## Step 6: Wait for Boot

After the firmware is flashed successfully, you should see the No Longer Evil logo on the device screen.

**Important:**
- Keep the device plugged in via USB
- Wait for the device to complete its boot sequence (this may take 3-4 minutes)
- Do not disconnect or power off the device during this time

---

## Step 7: Register Account

Once the device has fully rebooted:

1. Visit **[https://nolongerevil.com](https://nolongerevil.com)** in your web browser
2. **Register an account** (or sign in if you already have one)
3. Navigate to your **Dashboard**

You will see a "No devices" screen that prompts you for an entry code.

---

## Step 8: Link Your Device

To link your Nest device to your No Longer Evil account:

1. On your Nest device, navigate to: **Settings ‚Üí Nest App ‚Üí Get Entry Code**
2. The device will display a unique entry code
3. Enter this code on the No Longer Evil dashboard
4. Your device is now linked and ready to use!

---

## Step 9: Reinstall on Wall

Once everything is working:

1. Align the Nest with the backplate on the wall
2. Push gently until it clicks into place
3. The device will reconnect to HVAC power and charge

---

## üéâ Success!

Your Nest Thermostat is now running No Longer Evil and connected to your account!

---

## What Gets Flashed

The firmware installation process installs three components:

1. **x-load.bin** - First-stage bootloader (X-Loader for OMAP)
2. **u-boot.bin** - Second-stage bootloader (Das U-Boot) loaded at address 0x80100000
3. **uImage** - Linux kernel image loaded at address 0x80A00000

After flashing, the device jumps to execution at 0x80100000 (u-boot).

---

## Something Went Wrong?

<AccordionGroup>
  <Accordion title="Device won't enter DFU mode" icon="usb">
    See [DFU Mode Troubleshooting](/hosted/troubleshooting#dfu-mode-issues)
  </Accordion>

  <Accordion title="Firmware installer doesn't detect device" icon="computer">
    See [Device Detection Issues](/hosted/troubleshooting#device-detection)
  </Accordion>

  <Accordion title="Thermostat won't boot after flashing" icon="power-off">
    See [Boot Issues](/hosted/troubleshooting#boot-issues)
  </Accordion>

  <Accordion title="Entry code doesn't work" icon="key">
    See [Entry Code Issues](/hosted/troubleshooting#entry-code-issues)
  </Accordion>

  <Accordion title="Device won't connect to WiFi" icon="wifi">
    See [Network Issues](/hosted/troubleshooting#network-issues)
  </Accordion>
</AccordionGroup>

---

## Credits & Acknowledgments

This project builds upon the excellent work of several security researchers and developers:

- **[grant-h](https://github.com/grant-h) / [ajb142](https://github.com/ajb142)** - [omap_loader](https://github.com/ajb142/omap_loader), the USB bootloader tool used to flash OMAP devices
- **[exploiteers (GTVHacker)](https://github.com/exploiteers)** - Original research and development of the [Nest DFU attack](https://github.com/exploiteers/NestDFUAttack), which demonstrated the ability to flash custom firmware to Nest devices gen 1 & gen 2
- **[FULU](https://bounties.fulu.org/)** and all bounty backers - For funding the [Nest Learning Thermostat Gen 1/2 bounty](https://bounties.fulu.org/bounties/nest-learning-thermostat-gen-1-2) and supporting the right-to-repair movement

Without their groundbreaking research, open-source contributions, and advocacy for device ownership rights, this work would not be possible. Thank you!

---

<Card title="Get Help" icon="life-ring" href="https://discord.gg/AffeGaJ5XS">
  Join our Discord community or open a GitHub issue for assistance
</Card>
